<div class="uk-section-default uk-section uk-section-small uk-padding-remove-bottom stats" style="min-height: 325px">
  <div class="uk-container uk-container-expand">
    <div class="uk-grid-margin uk-grid uk-grid-stack" uk-grid="">
      <div class="uk-width-1-1@m uk-first-column">

        <div class="services-provider-container">
          <div *ngIf="provider" class="uk-flex">
            <div>
              <img src="{{ provider.logo ? provider.logo : '/assets/images/broken_image-black-48dp.svg' }}" style="max-width: 200px">
            </div>
            <div class="uk-margin-medium-left">
              <h3 class="uk-margin-remove">{{provider.name}}</h3>
              <div><span class="status-label">ID: </span>{{ provider.id}}</div>
            </div>
          </div>
        </div>

        <div class="uk-margin">
          <label class="uk-form-label">Period:</label>
          <div class="uk-form-controls">
            <select class="uk-input uk-select" [(ngModel)]="selectedRange" (change)="onRangeChange()">
              <option value="week">Past Week</option>
              <option value="month">Past Month</option>
              <option value="year">Past Year</option>
              <option value="all">All Time</option>
              <option value="custom">Custom Range</option>
            </select>
          </div>
        </div>

        <div class="uk-margin uk-flex uk-flex-middle uk-grid-small" uk-grid>
          <div>
            <label class="uk-form-label">Start:</label>
            <input class="uk-input" type="date" [(ngModel)]="startDate" (change)="onCustomDateChange()">
          </div>
          <div>
            <label class="uk-form-label">End:</label>
            <input class="uk-input" type="date" [(ngModel)]="endDate" (change)="onCustomDateChange()">
          </div>
        </div>

        <div class="uk-margin">
          <div *ngIf="errorMessage" class="uk-alert uk-alert-danger">{{ errorMessage }}</div>
          <div *ngIf="noDataMessage" class="uk-alert uk-alert-primary">{{ noDataMessage }}</div>
        </div>

        <div class="uk-grid uk-grid-match uk-child-width-1-4@l uk-child-width-1-2@m uk-child-width-1-1@s uk-grid-medium
                  uk-margin-medium-top uk-margin-medium-bottom" data-uk-grid>

          <div *ngFor="let metric of metricList">
            <div class="uk-card uk-card-default uk-padding-small number-card uk-position-relative">

              <div class="uk-card-header">
                <h4 class="uk-card-title uk-margin-remove-bottom">
                  {{ metric.metric_name }}
                </h4>
              </div>

              <div class="uk-card-body">

                <div class="uk-float-right uk-margin-top uk-margin-small-right">
                  <svg class="peity" height="28" width="48">
                    <rect data-value="5" [attr.fill]="getColor(metric.metric_name)" x="1.3" y="12.4" width="4.1" height="15.5"></rect>
                    <rect data-value="3" [attr.fill]="getColor(metric.metric_name)" x="8.2" y="18.6" width="4.1" height="9.3"></rect>
                    <rect data-value="9" [attr.fill]="getColor(metric.metric_name)" x="15.0" y="0" width="4.1" height="28"></rect>
                    <rect data-value="6" [attr.fill]="getColor(metric.metric_name)" x="21.9" y="9.3" width="4.1" height="18.6"></rect>
                    <rect data-value="5" [attr.fill]="getColor(metric.metric_name)" x="28.8" y="12.4" width="4.1" height="15.5"></rect>
                    <rect data-value="9" [attr.fill]="getColor(metric.metric_name)" x="35.6" y="0" width="4.1" height="28"></rect>
                    <rect data-value="7" [attr.fill]="getColor(metric.metric_name)" x="42.5" y="6.2" width="4.1" height="21.7"></rect>
                  </svg>
                </div>

                <div class="uk-text-meta uk-margin-xsmall-bottom uk-margin-right" *ngIf="metric.metric_description">
                  {{ metric.metric_description }}
                </div>

                <div class="number uk-text-small uk-text-bold">
                  <span>{{ metric.total_value | number }}</span>
                  <span *ngIf="metric.unit_type"> {{ metric.unit_type }}</span>
                </div>

              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
